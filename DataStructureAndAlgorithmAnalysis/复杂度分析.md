## 复杂度分析

### 什么是复杂度分析

* 数据结构和算法解决的是：如何让计算机更快时间、更省空间的解决问题
* 因此需从执行时间和占用空间两个维度来评估数据结构和算法的性能
* 分别用时间复杂度和空间复杂度两个概念来描述性能问题，统称为复杂度
* 复杂度描述的是算法执行时间（或占用空间）与数据规模的增长关系

### 为什么要进行复杂度分析

* 和性能测试相比，复杂度分析有不依赖执行环境、成本低、效率高、易操作、指导性强
* 掌握复杂度分析，将能编写出性能更优的代码，有利于降低系统开发和维护成本

### 如何进行复杂度分析

#### 大 O 表示法

1. 来源，算法的执行时间与每行代码的执行次数成正比，用 `T(n) = O(f(n))` 表示，其中 `T(n)` 表示算法执行总时间，`f(n)` 表示每行代码执行总次数，而 n 往往表示数据的规模

2. 时间复杂度，由于时间复杂度描述的是算法执行时间与数据规模的增长变化趋势，所以常量阶、低阶以及系数实际上对这种增长趋势不产生决定性影响，在做时间复杂度分析时忽略这些项

3. 常用分析法则

   1）单段代码看高频：比如循环

   2）多端代码取最大：一段代码中有单循环和多重循环，取多重循环的复杂度

   3）嵌套代码求乘积：比如递归、多重循环

   4）多个规模求加法：比如方法有两个参数控制两个循环的次数，那么这时就取二者复杂度相加

#### 复杂度级别

* 多项式量级

  `O(1)` 常数阶

  `O(logn)` 对数阶

  `O(n)` 线性阶

  `O(nlogn)` 线性对数阶

  `O(n^2)`   ：平方阶，`O(n^3)`：立方阶，`O(n^k)` k次方阶

* 非多项式量级

  `O(2^n)` 指数阶

  `O(n!)` 阶乘阶

### 最好、最坏、平均、均摊情况时间复杂度

* 最好情况时间复杂度：在最理想的情况下，执行这段代码的时间复杂度
* 最坏情况时间复杂福：在最糟糕的情况下，执行这段代码的时间复杂度
* 加权平均时间复杂度（期望时间复杂度）：用代码在所有情况下执行的次数的加权平均值表示
* 均摊时间复杂度：对一个数据结构进行一组连续操作中，大部分情况下时间复杂度都很低，只有个别情况下时间复杂度比较高，而且这些操作之间存在前后连贯的时序关系，这个时候，我们就可以这一组操作放在一块儿分析，看是否能将较高时间复杂度那次操作的耗时，平摊到其他那些时间复杂度比较低的操作上。而且，在能够应用均摊时间复杂度分析的场合，一般均摊时间复杂度就等于最好情况时间复杂度