## 数组

### 数组

**数组是一种线性表数据结构。它用一组连续的内存空间，来存储一组具有相同类型的数据**

* **线性表:** 线性表即是数据排成一条线一样的结构。每个线性表上的数据最多只有前和后两个方向。链表，队列，栈都是线性表结构

  ![线性表](./Images/线性表.jpg)

* 与线性表相对的是非线性表，在非线性表中，数据之间并不是简单的前后关系，如：二叉树、堆、图等

* **连续的内存空间和相同的类型的数据:** 因为这两个限制，数组能保证随机访问。但也让数组的操作变得非常低效。数组随机访问的时间复杂度为 `O(1)`，而查找的时间复杂度为 `O(logn)`，而增删为 `O(n)`

* 计算机会为每个内存单元分配一个地址（虚拟地址），计算机通过地址来访问内存中的数据。当计算机要随机访问数组中的某个元素时，它会通过如下寻址公式来，计算出该元素存储的内存地址

  ```c
  array[i]_address = base_address + i * data_type_size // data_type_size 数组元素的大小
  ```

### 容器能否代替数组

针对数组类型，很多语言都提供了容器类，比如 `java` 中的 `ArrayList`、`C++` 中的 `vector`

* `ArrayList` 相对于数组的优势在于：可以将很多数组操作的细节封装起来（如，插入，删除数据时候需要移动其他数据等）；支持动态扩容（但基于性能考量，还是建议创建 `ArrayList` 的时候事先指定数据大小）

#### 数组更适合的场景

* `Java` 的 `ArrayList` 无法存储基本类型，比如 `int`，`long`，需要封装为 `Integer` ，`long` 类，而 `Autoboxing`，`Unboxing` 则有一定的性能消耗，如果特别关注性能，或希望使用基本类型，则建议选用数组
* 如果数组大小事先已经知道，并且对数据的操作非常简单，用不到 `ArrayList` 提供的大部分方法，也可以直接使用数组
* 当表示多维数组时，用数组更加直观。

对于业务开发，直接使用容器就足够了，省时省力。如果是很底层的开发，如开发网络框架，性能的优化需要做到极致，这个时候数组会优于容器。