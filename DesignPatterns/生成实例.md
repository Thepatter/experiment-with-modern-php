# 生成实例

## Singleton 单例模式

__Singleton 是只含有一个元素的集合,本模式只能生成一个实例__

### singleton 登场角色

* singleton: 只有 singleton 这一个角色,返回唯一实例的 static 方法,该方法总是会返回同一个实例

### singleton 模式的类图

![](C:\Users\work\Pictures\singleton单例模式.png)

## Prototype 模式,通过原型生成实例

__使用实例 clone 来创建原型实例,而不是具体类创建__

### Prototype 模式中角色

* `Prototype` 原型角色负责定义用于复制现有实例来生成新实例的方法.
* `ConcretePrototyp` 具体的原型角色负责实现复制现有实例并生成新实例的方法.
* `Client`  使用者角色负责使用实例的方法生成新的实例

### Prototype 模式的类图

![](C:\Users\work\Pictures\Prototype模式类图.png)

## Builder 组装模式

### Builder 模式中的登场角色

* `Builder` 建造者角色负责定义用于生成实例的接口。`Builder` 角色中准备了用于生成实例的方法
* `ConcreteBuilder` 具体的建造者角色是负责实现 `Builder` 角色的接口的类。这里定义了在生成实例时实际被调用的方法。此外，在 `ConcreteBuilder` 角色中还定义了获取最终生成结果的方法。

* `Director` 监工角色负责使用 `Builder` 角色的接口来生成实例。它并不依赖于 `ConcreteBuilder` 角色。为了确保不论 `ConcreteBuilder` 角色是如何被定义的，`Director` 角色都能正常工作。它只调用在 `Builder` 角色中被定义的方法
* `Client` 使用者角色使用了 `Builder` 模式

### Builder 模式的类图

![](C:\Users\work\Pictures\Builder模式类图.png)

### Builder 模式的时序图

![](C:\Users\work\Pictures\Builder模式的时序图.png)

__在 Builder 模式中，Director 决定了 Builder 角色中方法的调用顺序__

## Abstract Factory 抽象工厂模式（将关联零件组装成产品）

抽象工厂会将抽象零件组装为抽象产品，并不关心零件的具体实现，而是只关心接口。使用该接口将零件组装成为产品，`Abstract Factory` 模式中，在子类这一层有具体的工厂，它负责将具体的零件组装成为具体的产品

### Abstract Factory 模式中的登场角色

* `AbstractProduct` 抽象产品角色负责定义 `AbstractFactory` 角色所生成的抽象零件和产品的接口
* `AbstractFactory` 角色负责定义用于生成抽象产品的接口。
* `Client` 委托者角色仅会调用 `AbstractFactory` 角色和 `AbstractProduct` 角色的接口来进行工作，对具体的零件，产品和工厂一无所知
* `ConcreteProduct` 具体产品角色负责实现 `AbstractProduct` 角色的接口。
* `ConcreteFactory` 具体工厂角色负责实现 `AbstractFactory` 角色的接口

### Abstract Factory 模式的类图

![](C:\Users\work\Pictures\AbstractFactory模式类图.png)