### 工具

#### 编译器

##### 编译流程

翻译单元：在源代码中包含一个或多个头文件，C 预处理器实际上是用包含的头文件替换 #include 指令。编译器源代码文件和所有的头文件都看成一个包含信息的单独文件。描述一个具有文件作用域的变量时，它的实际可见范围是整个翻译单元。如果程序由多个源代码文件组成，那么该程序也将由多个翻译单元组成。每个翻译单元均对应一个源代码文件和它所包含的文件。

在 C 语言中，编译器可以自行选择先对函数中那个参数求值。

*   如果一个变量出现在一个函数的多个参数中，不要对该变量使用递增或递减运算符
*   如果一个变量多次出现在一个表达式中，不要对该变量使用递增或递减运算符

C 编译器提供了预定义标识符 `__func__` 在任意函数中获取函数字面量。

###### #define

预处理器指令从 # 开始运行，到后面的第 1 个换行符为止（指令的长度仅限一行）

```c
// #define 指令本身， PX 宏 printf 为替换体
#define PX printf("x is %d.\n", x)
```

*   宏名称

    宏名称中不允许有空格，且必须遵循 C 变量的命名规则

*   替换体

    预处理器在程序中找到宏的实例后，就会用替换体代替该宏，从宏变成最终替换文本的过程为宏展开。预处理器发现程序中的宏后，会用宏等价的替换文本进行替换。如果替换的字符串中还包含宏，则继续替换这些宏。双引号中的宏不会替换

    ```c
    // 如果预处理将该替换体解释为字符型字符串，将用 4 * 8 替换 EIGHT，额外的空格是替换
    #define EIGHT 4 * 8
    ```

    

    

