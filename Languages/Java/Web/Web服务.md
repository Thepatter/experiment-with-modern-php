### Web 服务

Web 服务支持运行在不同的操作系统上，并且用不同编程语言实现的系统能够相互通信。一个系统向另一个系统公开的服务被统称为 Web 服务。Web 服务确立了一种基于 Internet 的分布式软件体系结构。

#### SOAP

Simple Object Access Protocol 基于 XML 的数据交换协议即简单对象访问写，是在分布式的环境中交换数据的简单协议，以 XML 作为通信语言。

SOAP 系统有两种工作模式：

* RPC（Remote Procedure Call，远程过程调用）

  采用 HTTP 作为数据传输协议，采用客户/服务器模式，RPC 作为统一的远程方法调用途径，传输数据采用 XML

* 另一种叫法不统一，在 Microsoft 的文档中称做 Document-Oriented，而在 Apache 的文档中，称为 Message-Oriented，它可以利用 XML 来交换结构更为复杂的数据，通常以 SMTP 作为数据传输协议。

SOAP 客户访问 SOAP 服务的流程如下：

1. 客户端创建一个 XML 格式的 SOAP 请求，它包含了提供服务的服务器的 URI、客户请求调用的方法名和参数信息。如果参数是对象，则必须进行序列化操作（把对象转换为 XML 数据）
2. 客户端的协议连接器把 XML 格式的 SOAP 请求包装为 HTTP 请求，即把 SOAP 请求作为 HTTP 请求的正文，并且增加 HTTP 请求头
3. 服务器端的协议连接器接收到客户端发送的 HTTP 请求，对其进行解析，获得其中的请求正文，请求正文就是客户端发送的 XML 格式的 SOAP 请求
4. 服务器对 XML 格式的 SOAP 请求进行解析，如果参数中包含对象，先对其进行反序列化操作（把 XML 格式的参数转换为对象），然后执行客户请求的方法
5. 服务器执行方法完毕后，如果方法的返回值是对象，则先对其进行序列化操作（把对象转换为 XML 数据），然后把返回值包装为 XML 格式的 SOAP 响应
6. 服务器端的协议连接器把 XML 格式的 SOAP 响应包装为 HTTP 响应，即把 SOAP 响应作为 HTTP 响应的正文，并且增加 HTTP 响应头。
7. 客户端的协议连接器接收到服务器端发送的 HTTP 响应，对其进行解析，获得其中的响应正文，响应正文就是服务器端发送的 XML 格式的 SOAP 响应
8. 客户端解析 XML 格式的 SOAP 响应，如果返回值中包括对象，则先对其进行反序列化操作（把 XML 格式的返回值转换为对象），最后获得返回值

#### WSDL

Web Service Description Language 基于 XML 语言的 Web 服务描述语言