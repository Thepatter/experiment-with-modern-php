### 浏览器环境

#### 事件

事件在浏览器窗口中被触发并且通常被绑定到窗口内部的特定部分（可能是一个元素、一系列元素、被加载到这个窗口 HTML 代码、整个浏览器窗口）

每个可用的事件都会有一个事件处理器（事件触发时会运行的代码块）。网络事件不是 Javascript 语言的核心，它们被定义成内置于浏览器的 JavaScript APIs

##### 事件对象

事件对象（event）自动传递给事件处理函数，以提供额外的功能和信息

```javascript
btn.addEventListener('click', function (e) {
    // e.target 元素是事件发生的元素的引用
    e.target
    // 标准事件对象具有 stopPropagation() 函数，当在事件对象上调用该函数时，它只会让当前事件处理程序运行。但事件不会在冒泡链上进一步扩大，将不会有更多事件处理器被运行（不会向上冒泡）
    e.stopPropagation();
});
```

##### 事件触发机制

* `addEventListener()`

  浏览器 API `addEventListener()` 类似事件处理属性。参数为事件名称和处理事件代码（匿名或具名函数）。默认情况下，所有事件处理程序都是在冒泡阶段注册的，如果想在捕获阶段注册一个事件，可以通过可选的第三个属性设置为 true

* `removeEventListener()`

  移除事件监听器。参数为事件名称和处理事件代码（匿名或具名函数）

###### 冒泡和捕获

当一个事件发生在具有父元素的元素上，现代浏览器运行两个不同的阶段（捕获和冒泡），现代浏览器中，默认情况下，所有事件处理程序都在冒泡阶段进行注册。

* 捕获

  浏览器检查元素的最外层祖先 html，是否在捕获阶段中注册了 `onclick` 事件处理程序，如果是则运行它。然后它移动到 html 中单击元素的下一个祖先元素，指向相同的操作，然后是单击元素再下一个祖先元素，依此类推，直到到达实际点击的元素

* 冒泡

  浏览器检查实际点击的元素是否在冒泡阶段中注册了一个 `onclick` 事件处理程序，如果是，则运行它，然后它移动到下一个直接的祖先元素，直到它到达 html 元素

###### 事件委托

如果想在大量子元素中单击任何一个都可以执行一段代码，可以将事件监听器设置在其父节点上，并让子节点发生的事件冒泡到父节点上，而不是每个子节点单独设置事件监听器

##### 元素事件

###### 通用事件

* `onfocus`

  获取焦点

* `onblur`

  失焦

* `ondblclick`

  双击

* `onclick`

  点击

* `onmouseover`

  鼠标移入上方

* `onmouseout`

  鼠标移除

###### 按钮事件

* `window.onkeypress`

  按下按钮（按下并松开）

* `window.onkeydown`

  按下按键

* `window.keyup`

  松开按键

  

