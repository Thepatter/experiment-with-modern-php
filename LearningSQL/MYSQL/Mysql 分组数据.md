### Mysql 分组数据

#### 数据分组 `GROUP BY`

* 创建分组：分组是在 `SELECT` 语句的 `GROUP BY` 子句中建立的。
* `GROUP BY` 子句可以包含任意数目的列。这使得能对分组进行嵌套。
* 如果在 `GROUP BY` 子句中嵌套了分组，数据将在最后规定的分组上进行汇总。在建立分组时候，指定的所有列都一起计算（所以不能从个别的列取回数据）
* `GROUP BY` 子句中列出的每个列都必须是检索列或有效的表达式（但不能是聚集函数）。如果在 `SELECT` 中使用表达式，则必须在 `GROUP BY` 子句中指定相同的表达式。不能使用别名
* 除聚合计算语句外，`SELECT` 语句中的每个列都必须在 `GROUP BY` 子句中给出
* 如果分组列中具有 `NULL` 值，则将 `NULL` 作为一个分组返回。如果列中有多行 `NULL` 值，它们将分为一组
* `GROUP BY` 子句必须出现在 `WHERE` 子句之后，`ORDER BY` 子句之前

#### 过滤分组 `HAVING` 

**规定包括那些分组，排除那些分组, where 过滤行，having 过滤分组，where 与 having 语法相同，where 在数据分组前进行过滤，having 在数据分组后进行过滤，where 排除的行不包括在分组中。**

#### `SELECT` 子句顺序

|   子句    |        说明        |          是否必须          |
| :-------: | :----------------: | :------------------------: |
|  SELECT   | 要返回的列或表达式 |             是             |
|   FROM    |  从中检索数据的表  |  仅在从表中选择数据时使用  |
|   WHERE   |      行级过滤      |             否             |
| GROUP BY  |      分组数据      | 仅在按组计算集合数据时使用 |
|  HAVING   |      分组过滤      |             否             |
| ORDER　BY |    输出排序顺序    |             否             |
|   LIMIT   |    要检索的行数    |             否             |

