## shell内置常用命令
### 查看文件

* `cat`

  查看完整的文件

* `less`

  逐页查看文本文件

* `nl`

  利用行编号查看文本文件

* `head`

  查看文件文件第一行

* `tail`

  查看文本文件的最后一行

* `strings`

  显示二进制文件的文本

* `od`

  以8进制格式查看数据

### 文件属性

* `stat [options] files`

  显示文件和目录的属性

  `-t`  简洁模式，单行输出所有信息

  `-L`  跟踪符号链接，并报告它们指向的文件

  `-f`  显示文件所在文件系统的信息，而不是文件本身的信息

* `wc [options] [files]` 

  统计字节数、字数和行数

  `-l`	仅输出行数

  `-w`	仅输出字数

  `-c` 	仅输出字节数

  `-L`	找出每个文件中最长的行，并以字节为单位输出该行的长度

* `du [options] [files | directories]` 

  显示文件和目录的磁盘使用情况

  `-b`	输出以字节为单位的大小

  `-k`	输出以千字节为单位的大小

  `-m`	输出以兆字节为单位的大小

  `-L`·跟踪符号链接

  `s`	仅输出总大小

* `file [options] files` 

  识别文件类型

  `-b`	输出是忽略左边部分的文件名

  `-i` 	输出文件的 MIME 类型

  `-f name_file`	从给定的 name_file 文件中读取文件名，逐行读取，每行一个文件名，并报告其类型。

  `-L`	跟踪符号链接

  `-z`	如果文件被压缩，则坚持未压缩的内容以确定文件类型，而非显示压缩数据

* `touch [options] files` 

  更改文件和目录的时间戳

  `-a`	仅修改访问时间

  `-m`	仅更改修改时间

  `-c`	如果文件不存在，不要创建它

  `-d timestamp`	设置文件的时间戳。

  `-t timestamp`     `-t 20030812150047` 2003 年 8 月 12 日 15:00:47

* `umask [options][mask]`

  设置或显示创建文件和目录的默认模式

* `chatter [options][+ - =] attributes [files]`

  扩展属性

  `-a`	只能进行追加：只能向文件中添加数据，而不能编辑数据，只有 root 才能设定这个属性

  `A`	不访问时间戳：对这个文件进行访问不会更新其访问时间戳（atime）

  `c`	压缩，数据在写入的时自动压缩，在读取时自动解压缩

  `d`	不转储：在进行备份时，告诉转储程序忽略此项

  `i`	不可变：不允许对该文件进行更改或删除（仅限 root 使用该属性）

  `j`	  文件在写入时会先被记录在 `journal` 中，仅限 ext3 系统

  `s`	安全删除，删除时，用零覆盖文件中的所有数据

  `S`	同步更新：更改将立即写入磁盘

  `u`	不可删除：该文件不允许执行删除操作

  `R`   递归处理

* `lsater [options] files`

  显示扩展属性

  `-R`  递归处理

  `-a`  列出所有的文件，包含以点号开头的文件

  `-d`  如果显示目录的话，不显示其内容，仅显示目录本身


### 文件定位

* `find [directories] [expression]`

  在一个或多个目录中进行搜索符合特定条件的文件。

  `-name`	查找对象的文件名称

  `-path`	查找对象的路径名

  `-lname`	符号链接目标文件

  `-type t`  查找类型为 t 的文件。包括 `f` 普通文件，`d` 目录，`l` 符号链接，`b` 块设备，`c` 字符设备，`p` 命名管道，`s` 套接字

  `-size N[bckw]`	查找大小为 N 的文件，单位可以是块（b），单字节字符（c），千字节（k），双字节（w）`+N` 即 `>N`，`-N` 即 `<N`

  `-empty`  查找大小为零的普通文件或目录

  `-user`   查找属与给定用户的文件

  `-group name`  查找属组为给定用户组的文件


### 文件的正文处理

* `grep [options] pattern [files]`

  给定一个或多个文件，输出其中与特定正则表达式模式匹配的所有行

  `-v`	只输出与正则表达式不匹配的行

  `-l`	仅输出包含匹配行的文件的名称，而不是输出匹配的行

  `-L`  仅输出不包含匹配行的文件的名称

  `-c`  仅输出匹配的行数

  `-n`  在输出匹配结果的时候，每行的前面给出其原始行号

  `-b`  在输出匹配结果的时候，每行的前面给出其文件中的偏移字节

  `-i`	匹配时不区分大小写

  `-w`  只匹配完整的单纯

  `-x`	仅匹配完整的行，优先级高于 `-w` 选项

  `-A N`	输出匹配行，以及位于匹配行之后的 N 行

  `-B N`     输出匹配行，以及位于匹配行之前的 N 行

  `-C N`	输出匹配行，以及位于匹配行前后的 N 行

  `--color = always`	突出显示匹配文件的颜色，以提高可读性

  `-r`	递归搜索目录及其子目录中的所有文件

  `-E`	使用扩展正则表达式

  `-F`	使用固定的字符串列表，而不是正则表达式。

* `cut -(b|c|f) range [options] [files]`

  `cut` 命令从文件中提取文本列。列由字符偏移 `-c` 来定义的，字节偏移  `-b` 

  `-d C`  使用字符 C 作为 -f 选项的字段之间的输入分隔符。默认使用制表符

  `--output-delimiter = C` 使用字符 C 作为 -f 选择的字段字节的输出分隔符。默认为制表符

  `-s`	排除不包含分隔符的行

  ```shell
  # 提取第五个字符之后全部字符
  cut -c5- file
  # fields 指定了从 file 中要提取的字段，字段号从 1 开始
  cut -ddelimiter -ffields file
  cut -d: -f1 /etc/passwd
  # 如果字段是由制表符分隔的，可以使用 -f 选项
  ```

* `paste [options][files]`

  将多个文件视为垂直列，并将它们合并到标准输出上

  `-d delimiters`   使用给定分隔符来分隔各列；默认使用制表符。可以提供一个单个字符 `-d:` 并自始至终使用该字符，或提供一个字符列表 `-dxyz` 将其依次用于各行

  `-s`  将输出的行和列进行转置

  ```shell
  paste files
  # 可以是一个或多个字符，粘贴分隔在一起的行，chars中的第一个字符用来分隔来自第一个文件和第二个文件的行，第二个字符用来分隔来自第二个文件和第三个文件的行，以此类推。如果文件的数量比 chars 中列出的字符要多，paste 会绕回重新分隔
  paste -d '+' file1 file2
  # 只从同一个文件中粘贴行，不管其他文件。如果只指定了单个文件，其效果是将该文件中所有的行合并到一起，彼此之间用制表符分隔（或是由 -d 选项指定的分隔符）
  paste -d'' -s names
  ```

* `tr [options] charset1 [charset2]`

  `tr`  将一组字符转换为另一组字符

  `-d` 从输入中删除包含在 `charset1` 中的字符

  `-s` 从输入中删除那些连续重置字符

  `-c` 只对 `charset1` 之外的字符进行操作

  `-t` 如果 `charset1` 长于 `charset2` ，则通过截断 `charset1` 使其长度相同。如果没有提供 `-t` 的话，则不断复制 `charset2 ` 的最后一个字符，直到 `charset2` 与 `charset1` 的长度相同为止

  |        tr命令         |                       描述                        |
  | :-------------------: | :-----------------------------------------------: |
  |      tr 'X' 'x'       |                  将所有X替换成x                   |
  |     tr '()' '{}'      |                将所有 () 替换成 {}                |
  |  tr '[a-z]' '[A-Z]'   |          将所有的小写字母转换成大写字母           |
  | tr '[A-Z]' '[N-ZA-M]' | 将所有的大写字母A-M 替换成 N-Z，将 N~Z 转换成 A~M |
  |       tr ' '''        |  将所有的制表符（第一对引号中的字符）转换成空格   |
  |      tr -s ''''       |             将多个空格转换成单个空格              |
  |      tr -d '\14'      |           删除所有换页符（八进制为14）            |
  |     tr -d '[0-9]'     |                   删除所有数字                    |

* `tee [options] files`

  将标准输入原封不动地复制到标准输出。还同时将相同的标准输入复制到一个或多个文件中。

  `-a`  附加至文件末尾，而非覆盖文件

  `-i` 	忽略中断信号
  
* sed

  用来在管道或命令序列中编辑数据。它是 stream editor（流编辑器）的简称。并非交互式程序，默认情况下 sed 将输入的每一行都写入到标准输出中，不管其内容是否发生了变化。`-n` 指定不打印任何行，`p` 命令可以打印处符合指定范围或模式的所有行

  |            sed命令            |                             描述                             |
  | :---------------------------: | :----------------------------------------------------------: |
  |           sed '5d'            |                          删除第5行                           |
  |       sed '/[Tt]est/d'        |                删除包含 Test 或 test 的所有行                |
  |     sed -n '20,25p' text      |               只打印 text 文件中第 20 ~ 25 行                |
  | sed '1,10s/unix/UNIX/g' intro |           将 intro 文件的前10行中的 unix 改成 UNIX           |
  |      sed '/jan/s/-1/-5/'      |           将包含 jan 的所有行中的第一个 -1 改成 -5           |
  |      sed 's/...//' data       |                  删除 data 中每行前3个字符                   |
  |      sed 's/...$//' data      |                 删除 data 中每行后 3 个字符                  |
  |       sed -n '\|' text        | 打印出 text 文件中所有的行，将不可打印字符显示为 `\nn`(八进制)，将制表符显示为 `\t` |

* sort

  给出输入，它会将其按照字母顺序排序并输出排序结果，默认情况下，sort 会提取出指定输入文件中的每一行，按照升序排列。`-u` 消除重复的行，`-r` 逆序排序，`-o` 指定输出文件，`-n` 将行中第一个字段视为数字，`-k2n` 从第二个字段开始排序，`-t` 后字符被视为分隔符

* uniq

  查找或删除文件中的重复行，`-d` 选项只列出重复的行，`-c` 选项统计出现的次数。

  ```shell
  # uniq 将 in_file 复制为 out_file，同时删除所有重复的行
  uniq in_file out_file
  ```

  

### 文件比较

* `diff [options] files files`

  对两个文件或两个目录进行逐行比较，在比较文本时，diff 可以提供详细的差异报告。如果没有差异，不出生成任何输出

  `-n`       	使用 `rcsdiff` 命令的 RCS 版本控制格式

  `-c`		     使用上下文输出格式，供 `patch` 命令使用

  `-D macro` 	C 预处理器格式，即 `#ifdef macro... #else ...#endif` 格式

  `-u`		一体化输出格式，它会对文件进行合并处理，`-` 表示删除，`+` 表示添加

  `-y`		并排格式，使用 `-W` 来调整输出的宽度

  `-e` 		创建一个 ed 脚本，如果运行该脚步的话，将会把 `fileA`  变为 `fileB`

  `-q`		不报告发生的那些变化，仅指出是否存在差异

  `-b`		不考虑空格

  `-B`		不考虑空白行

  `-i`		忽略大小写

  `-r` 		比较目录时，递归考察子目录

* `comm [options] file1 file2`

  比较两个已排序的文件，并生成由三列组成的输出，各列之间以制表符分隔

  1. 所有出现在 `file1` 中但不在 `file2` 中的行
  2. 所有出现在 `file2` 中但不在 `file1` 中的行
  3. 所有同时出现在两个文件中的行

  `-1`  不显示第 1 列

  `-2`	不显示第 2 列

  `-3` 	不显示第 3 列

  `-23` 显示仅在第一个文件中出现的行

  `-13` 显示仅在第二个文件中出现的行

  `-12` 显示同时出现在第一个和第二个文件中的行

* `cmp [options] file1 file2 [offset1 [offset2]]`

  比较两个文件。如果它们的内容是一样的，那么 cmp 不会输出任何内容；否则它会给出第一处差异所在的位置

  `-l`  长输出；逐字节输出所有差异

  `-s`  静默输出，不打印任何东西，如果文件匹配返回 0，不匹配返回 1，失败返回其他代码

* `md5sum files | --check file`

  校验文件

* `shasum` 

  可以使用不同的算法生成更长的哈希值

  `shasum myfile`      SHA-1 算法

  `shasum -a 256`   SHA-256 算法

    
