# 用户相关

## 用户管理

### useradd

`useradd [options] username`

创建一个用户，必须具有超级权限。

* `-d dir`

  将用户主目录设置为 dir

* `-s shell`

  将用户的登录 shell 设置为 shell

* `-u uid`

  将用户 ID 设置为 uid

* `-c string`

  设置用户的 `comment` 字段。`chfn` 命令也可以用来设置该信息

* `-g group`

  将用户的初始组设置为 group，可以是数字形式的组 ID 或组名称，但是这些组必须是已经存在的

* `-G group1, group2,,,`

  让用户加入现有的其他组

* `-m`

  将系统基干目录 `/etc/skel` 中的所有文件复制到新创建的主目录中。基干目录通常用来存放初始化文件的最新版本如 `~/.bash_profile`，以供新用户使用。如果希望从不同的目录复制这些文件，添加 `-k` 选项 `-k dirname`

### userdel

`userdel [-r] username`

删除一个用户，必须具有超级权限

除非提供 `-r` 选项，否则不会删除用户主目录中文件。

### usermod

`usermod [options] username`

修改给定用户名的账户

* `-d dir`

  将用户的主目录改为 dir

* `-l username`

  修改用户登录名

* `-s shell`

  修改用户登录 shell

* `-g group`

  修改用户的初始组，可以是组 Id 或组名称，但必须已经存在

* `-G group1, group2...`

  修改用户所属的附加群组

* `-L`

  禁用账户，禁用后无法登录

* `-U`

  解锁账户

### passwd

`passed [options] [username]`

修改登录密码

* 修改自己秘密

  `passwd`

* 修改其他用户密码

  `sudo passwd other_user`

## 用户组管理

### groups

`groups [usernames]`

显示所属用户组或其他用户所属的组

### groupadd

`grouped [options] group`

创建用户组

`sudo groupadd -f friends`

* `-g gid`

  指定组 id

* `-f`

  如果知道的组已经存在，给出提示并退出

### groupdel

`groupdel group`

删除现有用户组，超级权限。`groupdel` 不会改变文件所属的组。只是从系统中删除相应的组的名称。如果显示这些文件，会看到数子组ID，而不是组名

### groupmod

`grouped [options] group`

修改给定组，改变其名称或组 ID，`groupmod` 命令不影响属于该组的任何文件；它只是修改系统记录中的 ID 或名称。（更改id时要小心，可能会导致这些文件属于不存在的组）

* `-n name`

  将组的名称更改为 name

* `-g gid`

  将组 ID 更改为 gid



