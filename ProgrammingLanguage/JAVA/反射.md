## java 反射库

反射被大量应用于 `JavaBeans` 中，反射机制可用来：

* 在运行时分析类的能力
* 在运行时查看对象
* 实现通用的数组操作代码
* 利用 `Method` 对象

### Class 类

在程序运行期间，Java 运行时系统始终为所有的对象维护一个被称为运行时的类型标识。这个信息跟踪着每个对象所属的类。虚拟机利用运行时类型信息选择相应的方法执行。可以通过专门的 Java 类访问这些信息。保存这些信息的类被称为 `Class`

`Object` 类中的 `getClass()` 方法将会返回一个 `Class` 类型的实例。

可以调用静态方法 `Class.forName(className)` 获得类名对应的 `Class` 对象，如果类名保存在字符串中，并可在运行中改变，就可以使用这个方法。如果参数 `className` 不是类名或接口名，则会抛出已检查异常

如果 T 是任意的 Java 类型或（void 关键字），`T.class` 将代表匹配的类对象，（一个 Class 对象实际上表示的是一个类型，而这个类型未必一定是一种类：`int` 不是类，但 `int.class` 是一个 `Class` 类型的对象）

一个 `Class` 对象将表示一个特定类的属性， `Class` 常用的方法是 `getName()`，这个方法将返回类的名字。如果类在一个包里，包的名字也作为类名的一部分。

虚拟机为每个类型管理一个 `Class` 对象。可以利用 `==` 运算符实现两个类对象比较的操作（`if (e.getClass() == Emplouee.class`）

`Class` 对象还有一个很有用的方法 `newInstance()` ，可以用来动态地创建一个类的实例。`newInstance()` 方法调用默认的构造器（没有参数的构造器）初始化新创建的对象。如果这个类没有默认的构造器，就会抛出一个异常。

### 反射类

在 `java.lang.reflect` 包中有三个类 `Field`、`Method`、`Constructor` 分别用于描述类的域、方法和构造器。

这三个类都有一个 `getName()` 的方法，用来返回项目的名称。`getModifiers()` 方法，将返回一个整型数值，用不同的位开关描述 `public` 和 `static` 这个的修饰符使用状况（使用 `java.lang.reflect` 包中的 `Modifier` 类的静态方法分析 `getModifiers()` 返回的整型值）

`Class` 类中的 `getFields()` 、`getMethods()` 和 `getConstructors()` 方法将分别返回类提供的 `public` 域、方法和构造器数组，其中包括超类的公有成员。`Class` 类的 `getDeclareFields()`、`getDeclareMethods()` 和 `getDeclaredConstructors()` 方法将分别返回类中声明的全部域，方法和构造器，其中包括私有和受保护成员，但不包括超类的成员

`Field` 类的 `getType()` 方法，用来返回描述域所属类型的 `Class` 对象

