### 插入,更新,删除数据

#### 插入数据

* 插入完整的行 `insert into table_name(table_field) values(table_field_value)`
* 如果数据检索是最重要的,则可以通过在`insert` 和 `into` 之间添加关键字 `low_priority` 指示MySQL降低 `insert`语句的优先级 `insert low_priority into` 也适用于 `update` 和 `delete` 语句

* 插入多个行,每组值用一对圆括号括起来,用逗号分隔,单条 insert 语句插入多个值比多条 insert 语句快

* `insert select`  语句, `select` 中的第一列将来填充表列中指定的第一个列,第二列用来填充表列中指定的第二个列, `insert select` 中 `select` 语句可包含 `WHERE` 子句以过滤插入的数据

#### 更新数据

**update 语句非常容易使用,基本的 update 语句由 3 部分组成,要更新的表,列名和它们的新值,确定要更新行的过滤条件**

`update table_name set table_filed = field_value where `

* 如果用 `update` 语句更新多行,并且在更新这些行中的一行或多行时出现一个错误,则整个 `update` 操作被取消(错误发生前更新的所有行被恢复到它们原来的值),如果指定即使发生错误,也继续进行更新,使用 `ignore` 关键字 `update ignore customers`
* 为了删除某个列的值,可设置它为 `null` 

#### 删除数据

`delete from table_name where`

* 更快的删除,如果想从表中删除所有行,使用 `truncate table` 更快

#### 修改表数据 alter table

* 添加列 `alter table table_name add column column_name datatype`

* 删除表中的列 `alter table table_name drop column column_name`

* 修改表中列的数据类型 `alter table table_name alter column clumn_name datatype`

* 定义外键 `alter table table_name add constraint  foreign_key_name(外键名称)  foreign key (本表列名) references 关联表名（关联表列名）`

  `alter table tb_active add constraint FK_ID foreign key(user_id) references tb_user(id)`

* 删除外键 `alter table table_name drop foreign key (外键名称)`

  `alter table tb_active drop foreign key FK_ID`

* 重命名表 `rename table source_table_name to target_table_name`

#### 视图

**虚拟表，只包含使用时动态检索数据的查询，因为视图不包含数据，所以每次使用视图时，都必须处理查询执行时候所需的任一个检索，如果用多个联结和过滤创建了视图或嵌套了视图，则性能会下降的厉害，视图规则与表基本一致**

* 创建视图 `create view vendorlocations as select concat(rtrim(vend_name), ' (', rtrim(vend_country), ')') as vend_title from vendors order by vend_name`

  
